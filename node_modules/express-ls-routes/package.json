{
  "name": "express-ls-routes",
  "version": "1.0.2",
  "description": "Cli and middleware to list routes in your express app",
  "main": "index.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/jaketrent/express-ls-routes.git"
  },
  "keywords": [
    "express",
    "express routes",
    "app/config/routes",
    "rake routes"
  ],
  "author": {
    "name": "jaketrent"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/jaketrent/express-ls-routes/issues"
  },
  "homepage": "https://github.com/jaketrent/express-ls-routes",
  "scripts": {
    "test": "node_modules/mocha/bin/mocha --harmony \"test/unit/**/*.spec.coffee\""
  },
  "bin": {
    "routes": "./bin/cli.js"
  },
  "dependencies": {
    "lodash-node": "~2.4.1"
  },
  "devDependencies": {
    "coffee-script": "^1.7.1",
    "mocha": "^1.20.1",
    "rf-release": "^0.1.2",
    "should": "^4.0.4"
  },
  "readme": "express-ls-routes\n=================\n\n*Updated: supports express3 and express4!*\n\nIt's a cli that lets you list the routes in your express app:\n\n```\n$ routes\n\nGET    /my-app/:id\nPOST   /my-app\n...\n```\n\nAnd a middleware that can expose the same information in a route in your app:\n\n```\n$ curl localhost:3000\n\n[\n  \"GET   /my-app/:id\",\n  \"POST  /my-app\"\n  ...\n]\n\n```\n\n## Install\n\n```\nnpm install express-ls-routes --save\n```\n\n## CLI\n\n#### Running\n\nSimply run:\n\n```\nroutes\n```\n\nNote that this requires `./node_modules/.bin` to be in your path.  If it's not, use the command:\n\n```\nnode_modules/.bin/routes\n```\n\nIn this case, definitely consider adding an npm scripts entry (see below).\n\n#### Setup\n\nThe cli depends on your routes being listed in one file.  It depends on your file being formatted like this, where your express app is called 'app' or 'server'.  The route handlers can be inline functions or references to other modules.\n\n```\napp.get('/my-app/:id', ...)\napp.post('/my-app', ...)\n...\n\n```\n\nThis is because the cli doesn't actually run the express app.  It just parses the static js file contents to derive your app's routes.\n\n#### routes.js Location\n\nThe cli shouldn't require configuration if you use the default file locations.  By default, the cli expects the `routes.js` file to be located at:\n\n```\napp/config/routes.js\n```\nYou can change this behavior by doing two things:\n\n- Run the cli via npm scripts by adding it in `package.json`:\n\n```\n\"scripts\": {\n  \"routes\": \"routes\"\n}\n```\n\n- Add config in `package.json` for the `routes.js` location:\n\n```\n\"config\": {\n  \"routes\": \"app/another/location/myRoutes.js\"\n}\n```\n\n## Middleware\n\n#### Setup\n\nThe middleware doesn't depend on your `routes.js` file being in any specific location as in the case of the cli because it actually interrogates your express `app` to determine what routes have been attached to it.  But, because of this, you must use this middleware after all the routes you want the middleware to know about have been attached.  This will mean that you usually put the endpoint that lists routes as the last route in your app.\n\nPass your express `app` to the middleware, and it will attach routes as json `routes` on the request (`req`) object:\n\n```\nvar lsRoutes = require('express-ls-routes')\n\napp.get('/', lsRoutes(app), function (req, res) {\n  res.json(200, req.routes)\n})\n```\n",
  "readmeFilename": "README.md",
  "_id": "express-ls-routes@1.0.2",
  "_shasum": "16ca61d7ef5aa77dd6f534958f2f2d5b48848585",
  "_from": "express-ls-routes@1.0.2",
  "_resolved": "https://registry.npmjs.org/express-ls-routes/-/express-ls-routes-1.0.2.tgz"
}
